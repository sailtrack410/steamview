# Halo-Plugin-Footprint
> åŸºäºé«˜å¾·åœ°å›¾çš„è¶³è¿¹è®°å½•Haloæ’ä»¶ï¼Œå¯ä»¥è®°å½•å’Œå±•ç¤ºæ‚¨å»è¿‡çš„åœ°æ–¹

> ğŸ—ºï¸ è®°å½•ç”Ÿæ´»è½¨è¿¹ï¼Œåˆ†äº«æ—…é€”æ•…äº‹ | Record life tracks, share journey stories

![Logo](https://www.lik.cc/upload/logo.svg)

![æ¼”ç¤ºå›¾](https://www.lik.cc/upload/Google%20Chrome%202025-09-23%2016.26.54.png)

[æ¼”ç¤ºç«™](https://www.lik.cc/footprints)
## é¡¹ç›®ä»‹ç»

`è¶³è¿¹` æ˜¯ä¸€ä¸ªä¸“ä¸º Halo 2.0 åšå®¢å¹³å°å¼€å‘çš„è¶³è¿¹æ’ä»¶ã€‚å®ƒèƒ½å¤Ÿå¸®åŠ©åšä¸»è®°å½•å’Œå±•ç¤ºè‡ªå·±çš„æ—…è¡Œè¶³è¿¹ï¼Œè®©è¯»è€…èƒ½å¤Ÿç›´è§‚åœ°äº†è§£åšä¸»å»è¿‡çš„åœ°æ–¹å’Œç›¸å…³æ•…äº‹ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ—ºï¸ è¶³è¿¹åœ°å›¾å±•ç¤º
- ğŸ“ æ”¯æŒæ·»åŠ åœ°ç‚¹æ ‡è®°
- ğŸ“ æ”¯æŒä¸ºæ¯ä¸ªåœ°ç‚¹æ·»åŠ æ•…äº‹æè¿°
- ğŸ–¼ï¸ æ”¯æŒä¸Šä¼ åœ°ç‚¹ç…§ç‰‡
- ğŸ“… æ—¶é—´çº¿å±•ç¤º
- ğŸ¨ è‡ªå®šä¹‰æ ·å¼è®¾ç½®
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

## å®‰è£…è¦æ±‚

- Halo 2.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- Java 17 æˆ–æ›´é«˜ç‰ˆæœ¬

## å®‰è£…æ–¹å¼

### æ–¹å¼ä¸€ï¼šåº”ç”¨å¸‚åœºå®‰è£…ï¼ˆæ¨èï¼‰

1. åœ¨ Halo çš„æ§åˆ¶å°ä¸­è¿›å…¥åº”ç”¨å¸‚åœº
2. æœç´¢ `è¶³è¿¹`
3. ç‚¹å‡»å®‰è£…å³å¯

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

1. ä»ä»¥ä¸‹åœ°å€ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ JAR æ–‡ä»¶ï¼š
    - GitHub Releasesï¼š[ä¸‹è½½åœ°å€](https://github.com/acanyo/halo-plugin-footprint/releases)
2. åœ¨ Halo åå°ç®¡ç†ç•Œé¢ -> æ’ä»¶ -> ä¸Šä¼ æ’ä»¶ -> é€‰æ‹©ä¸‹è½½å¥½çš„ JAR æ–‡ä»¶

## ä½¿ç”¨è¯´æ˜

1. å®‰è£…å®Œæˆåï¼Œåœ¨ Halo åå°ç®¡ç†ç•Œé¢å·¦ä¾§èœå•æ ä¸­æ‰¾åˆ°"è¶³è¿¹"é€‰é¡¹
2. ç‚¹å‡»"æ·»åŠ è¶³è¿¹"å¼€å§‹è®°å½•æ‚¨çš„æ—…è¡Œè®°å½•
3. åœ¨åœ°å›¾ä¸Šé€‰æ‹©ä½ç½®ï¼Œæ·»åŠ ç›¸å…³ä¿¡æ¯ï¼š
    - åœ°ç‚¹åç§°
    - è®¿é—®æ—¶é—´
    - åœ°ç‚¹æè¿°
    - ä¸Šä¼ ç…§ç‰‡
    - æ·»åŠ æ ‡ç­¾
4. ä¿å­˜åå³å¯åœ¨åšå®¢å‰å°æŸ¥çœ‹è¶³è¿¹å±•ç¤º

## ğŸ“ƒæ–‡æ¡£
[https://www.lik.cc/docs/halo-plugins](https://www.lik.cc/docs/halo-plugins)

## ä¸»é¢˜é€‚é…
ç›®å‰æ­¤æ’ä»¶ä¸ºä¸»é¢˜ç«¯æä¾›äº† `/footprints` è·¯ç”±ï¼Œæ¨¡æ¿ä¸º `footprint.html`ï¼Œä¹Ÿæä¾›äº† Finder APIï¼Œå¯ä»¥å°†è¶³è¿¹åˆ—è¡¨æ¸²æŸ“åˆ°ä»»ä½•åœ°æ–¹ã€‚

## æ¨¡æ¿å˜é‡
è·¯ç”±ä¿¡æ¯
* æ¨¡æ¿è·¯å¾„ï¼š/templates/footprint.html
* è®¿é—®è·¯å¾„ï¼š/footprints

## é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®

- åœ°å›¾é…ç½®
    - åœ°å›¾ç±»å‹ï¼šæ”¯æŒå¤šç§åœ°å›¾æº
    - é»˜è®¤ä¸­å¿ƒç‚¹ï¼šè®¾ç½®åœ°å›¾é»˜è®¤æ˜¾ç¤ºçš„ä¸­å¿ƒä½ç½®
    - é»˜è®¤ç¼©æ”¾çº§åˆ«ï¼šè®¾ç½®åœ°å›¾é»˜è®¤ç¼©æ”¾å¤§å°

- æ˜¾ç¤ºè®¾ç½®
    - æ—¶é—´çº¿æ˜¾ç¤ºï¼šå¼€å¯/å…³é—­æ—¶é—´çº¿å±•ç¤º
    - ç…§ç‰‡å±•ç¤ºï¼šè®¾ç½®ç…§ç‰‡å±•ç¤ºæ–¹å¼
    - æ ‡è®°æ ·å¼ï¼šè‡ªå®šä¹‰åœ°ç‚¹æ ‡è®°çš„æ ·å¼
##  ğŸ’¬äº¤æµ
![ç¾¤.png](https://www.lik.cc/upload/iShot_2025-03-03_16.03.00.png)
![wx.png](https://www.lik.cc/upload/wx.png)


## é«˜çº§é…ç½®

å¯åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œæ›´å¤šè‡ªå®šä¹‰è®¾ç½®ï¼ŒåŒ…æ‹¬ï¼š
- è‡ªå®šä¹‰åœ°å›¾æ ‡è®°å›¾æ ‡
- è‡ªå®šä¹‰ä¸»é¢˜è‰²
- è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœ
- API å¯†é’¥é…ç½®

## å¼€å‘æŒ‡å—
### å˜é‡ç±»å‹
* UrlContextListResult<[FootprintVo](#FootprintVo)>

#### ç¤ºä¾‹
```bash
<div>
  <div th:each="footprint : ${footprints.items}" th:with="spec = ${footprint.spec}">
    <a th:href="${spec.postLink}" target="_blank" th:text="${spec.title}"></a>
    <div>
      <img th:src="${spec.logo}" alt="avatar">
      <a th:href="${spec.authorUrl}" target="_blank">
        <span th:text="${spec.author}"></span>
      </a>
    </div>
  </div>
  <div th:if="${footprints.hasPrevious() || footprints.hasNext()}">
    <a th:href="@{${footprints.prevUrl}}">
      <span>ä¸Šä¸€é¡µ</span>
    </a>
    <span th:text="${footprints.page}"></span>
    <a th:href="@{${footprints.nextUrl}}">
      <span>ä¸‹ä¸€é¡µ</span>
    </a>
  </div>
</div>
```

## Finder API

### listAll()

#### æè¿°
è·å–å…¨éƒ¨è®¢é˜…æ–‡ç« å†…å®¹ã€‚

#### å‚æ•°
æ— 

#### è¿”å›å€¼
List<[FootprintVo](#FootprintVo)>

#### ç¤ºä¾‹

```bash
<div>
  <div th:each="footprint : ${footprintFinder.listAll()}" th:with="spec = ${footprint.spec}">
    <a th:href="${spec.postLink}" target="_blank" th:text="${spec.title}"></a>
    <div >
      <img th:src="${spec.logo}" alt="avatar">
      <a th:href="${spec.authorUrl}" target="_blank">
        <span th:text="${spec.author}"></span>
      </a>
    </div>
  </div>
</div>
```

### list(page, size)

#### æè¿°
æ ¹æ®åˆ†é¡µå‚æ•°è·å–è®¢é˜…æ–‡ç« å†…å®¹ã€‚

#### å‚æ•°
* page: int - åˆ†é¡µé¡µç ï¼Œä» 1 å¼€å§‹
* size: int - åˆ†é¡µæ¡æ•°

#### è¿”å›å€¼
[ListResult<FootprintVo>](#FootprintVo)

#### ç¤ºä¾‹

```bash
<th:block th:with="footprints = ${footprintFinder.list(1, 10)}">
    <div>
      <div th:each="footprint : ${footprints.items}" th:with="spec = ${footprint.spec}">
        <a th:href="${spec.postLink}" target="_blank" th:text="${spec.title}"></a>
        <div >
          <img th:src="${spec.logo}" alt="avatar">
          <a th:href="${spec.authorUrl}" target="_blank">
            <span th:text="${spec.author}"></span>
          </a>
        </div>
      </div>
    </div>
    <div>
      <span th:text="${footprints.page}"></span>
    </div>
</th:block>
```

## ç±»å‹å®šä¹‰
### FootprintVo
```bash
{
  "metadata": {
    "name": "string",                                         // å”¯ä¸€æ ‡è¯†
    "generateName": "string",
    "version": 0,
    "creationTimestamp": "2024-01-16T16:13:17.925131783Z",    // åˆ›å»ºæ—¶é—´
  },
  "apiVersion": "footprint.lik.cc/v1alpha1",
  "kind": "Footprint",
  "spec": {
   {
    "name": "string",                                        // è¶³è¿¹åç§°
    "description": "string",                                 // è¶³è¿¹æè¿°
    "longitude": "double",                                   // ç»åº¦
    "latitude": "double",                                    // çº¬åº¦
    "address": "string",                                     // åœ°å€
    "footprintType": "string",                               // è¶³è¿¹ç±»å‹
    "image": "string",                                       // è¶³è¿¹å›¾ç‰‡URL
    "article": "string",                                     // ç®¡ç†æ–‡ç« URL
    "createTime": "instant"                                  // åˆ›å»ºæ—¶é—´
    }
  }
}
```

### ListResult

```bash
{
  "page": 0,                                   // å½“å‰é¡µç 
  "size": 0,                                   // æ¯é¡µæ¡æ•°
  "total": 0,                                  // æ€»æ¡æ•°
  "items": "List<#FootprintVo>",              // åˆ—è¡¨æ•°æ®
  "first": true,                               // æ˜¯å¦ä¸ºç¬¬ä¸€é¡µ
  "last": true,                                // æ˜¯å¦ä¸ºæœ€åä¸€é¡µ
  "hasNext": true,                             // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
  "hasPrevious": true,                         // æ˜¯å¦æœ‰ä¸Šä¸€é¡µ
  "totalPages": 0                              // æ€»é¡µæ•°
}
```

### UrlContextListResult

```bash
{
  "page": 0,                                   // å½“å‰é¡µç 
  "size": 0,                                   // æ¯é¡µæ¡æ•°
  "total": 0,                                  // æ€»æ¡æ•°
  "items": "List<#FootprintVo>",              // åˆ—è¡¨æ•°æ®
  "first": true,                               // æ˜¯å¦ä¸ºç¬¬ä¸€é¡µ
  "last": true,                                // æ˜¯å¦ä¸ºæœ€åä¸€é¡µ
  "hasNext": true,                             // æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ
  "hasPrevious": true,                         // æ˜¯å¦æœ‰ä¸Šä¸€é¡µ
  "totalPages": 0,                             // æ€»é¡µæ•°
  "prevUrl": "string",                         // ä¸Šä¸€é¡µé“¾æ¥
  "nextUrl": "string"                          // ä¸‹ä¸€é¡µé“¾æ¥
}
```
### ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/halo-plugin-footprint.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd halo-plugin-footprint

# å®‰è£…ä¾èµ–
./gradlew build

# æ‰“åŒ…
./gradlew clean build
```

## é—®é¢˜åé¦ˆ

å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼åé¦ˆï¼š

1. [GitHub Issues](https://github.com/your-repo/halo-plugin-footprint/issues)
2. [Halo ç¤¾åŒº](https://bbs.halo.run)

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬éå¸¸æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- æäº¤é—®é¢˜å’Œå»ºè®®
- æäº¤ä»£ç æ”¹è¿›
- å®Œå–„æ–‡æ¡£
- åˆ†äº«ä½¿ç”¨ç»éªŒ

åœ¨æäº¤è´¡çŒ®ä¹‹å‰ï¼Œè¯·å…ˆé˜…è¯»æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL-3.0 License](./LICENSE) å¼€æºåè®®ã€‚

## é¸£è°¢

æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å¯¹æœ¬é¡¹ç›®çš„æ”¯æŒï¼

æ ·å¼è®¾è®¡å‚è€ƒ:å›°å›°é±¼ & Thyuu
